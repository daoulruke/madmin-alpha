<!-- HTML for static distribution bundle build -->
<!DOCTYPE html>
<html lang="en">

    <head>

        <meta charset="UTF-8">

        <title>MADMIN API</title>

        <link href="data:image/x-icon;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQEAYAAABPYyMiAAAABmJLR0T///////8JWPfcAAAACXBIWXMAAABIAAAASABGyWs+AAAAF0lEQVRIx2NgGAWjYBSMglEwCkbBSAcACBAAAeaR9cIAAAAASUVORK5CYII=" rel="icon" type="image/x-icon" />
        <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/swagger-ui-dist@3.51.1/swagger-ui.css" />

        <style>

            html {
                box-sizing: border-box;
                overflow: -moz-scrollbars-vertical;
                overflow-y: scroll;
            }

            *, *:before, *:after {
                box-sizing: inherit;
            }

            body {
                margin:0;
                background: #fafafa;
            }

        </style>

    </head>

    <body>

        <div id="swagger-ui"></div>

        <script src="https://cdn.jsdelivr.net/npm/swagger-ui-dist@3.51.1/swagger-ui-bundle.js" charset="UTF-8"> </script>
        <script src="https://cdn.jsdelivr.net/npm/swagger-ui-dist@3.51.1/swagger-ui-standalone-preset.js" charset="UTF-8"> </script>

        <script>

            var apiUrl = 'https://api.ud.ax';

            window.onload = function() {

                var accessToken = localStorage.getItem("accessToken");

                if ( ! accessToken) {
                    window.location = window.location.origin;
                }

                // Begin Swagger UI call region
                const ui = SwaggerUIBundle({
                    url: `${apiUrl}/openapi`,
                    requestInterceptor: request => {
                        // console.log(request);
                        request.headers["X-Authorization"] = `Bearer ${accessToken}`;
                        request.credentials = "omit";
                        return request;
                    },
                    responseInterceptor: response => {
                        // console.log(response);
                        switch (response.obj.code) {
                            case 1011:
                            case 1012:
                                window.location = window.location.origin;
                        }
                        return response;
                    },
                    dom_id: '#swagger-ui',
                    deepLinking: true,
                    presets: [
                        SwaggerUIBundle.presets.apis,
                        SwaggerUIStandalonePreset
                    ],
                    plugins: [
                        SwaggerUIBundle.plugins.DownloadUrl
                    ],
                    layout: "StandaloneLayout"
                });
                // End Swagger UI call region

                window.ui = ui;

            };

            window.addEventListener('load', (event) => {
                document.getElementsByClassName('link')[0].style.display = "none";
            });

        </script>

    </body>

</html>